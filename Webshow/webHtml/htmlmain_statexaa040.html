<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="viewport" content="width=device-width, user-scalable=false, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <title></title>
    <script src="Scripts/jquery-3.5.1.js"></script>
    <style type="text/css">
        @keyframes mymove {
            0% {
                background: rgba(255, 216, 0, 0.00);
                border-color: yellowgreen;
            }

            50% {
                background: rgba(255, 0, 220, 0.99);
                border-color: #ff00dc;
            }

            100% {
                background: rgba(255, 216, 0, 0.00);
                border-color: yellowgreen;
            }
        }

        .chatdialog {
        }

            .chatdialog.msg {
                animation: mymove 1.9s infinite;
                -webkit-animation: mymove 1.9s infinite;
            }

        .friendMsg {
            animation: mymove 1.9s infinite;
            -webkit-animation: mymove 1.9s infinite;
        }
    </style>
</head>
<body style="width:100%;height:100%;overflow:hidden;">
    <div id="rootContainer" style="width: 100%; height: 100%; overflow: hidden;position:absolute;left:0px;top:0px;">
        <div style="text-align:center;margin-top:2em">
            <label>房间号</label><input id="roomNubInput" type="number" />
        </div>
        <div style="text-align:center;">
            <button style="width: 5em;
        height: 3em;
        margin-top: 1em;">
                加入
            </button>
        </div>
    </div>
    <div style="position: absolute;
        width: 8em;
        height: calc(6em + 48px);
        z-index: 6;
        left: 1em;
        top: calc(50% - 20px - 2px - 3em);
        font-size: 20px;
        color: blue;
        text-shadow: 1px 1px 1px #000000;
        border-color:deepskyblue;
        ">
        <div style="width: calc(100% - 2px);
        text-align: center;
        border: 1px solid deepskyblue;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carASpan">啊啊啊啊啊啊啊</span>
        </div>
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 1px solid deepskyblue;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carBSpan">啊啊啊啊啊</span>
        </div>
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 1px solid deepskyblue;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carCSpan">啊啊啊</span>
        </div>
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 1px solid deepskyblue;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carDSpan">啊啊</span>
        </div>
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 2px    inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carESpan">啊啊啊啊啊啊</span>
        </div>
        <div style="width:3em;text-align:center;border:1px solid gray;border-radius:0.3em;margin-top:4px;margin-bottom:4px;color:yellowgreen;">
            <span>隐藏</span>
        </div>
    </div>

    <div style="position: absolute;
        width: 3em;
        height: calc(3em + 24px);
        z-index: 6;
        left: 10em;
        top: calc(50% - 20px - 2px - 3em);
        font-size: 20px;
        color: blue;
        text-shadow: 1px 1px 1px #000000;
        border-color:deepskyblue;
        ">
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carASpan">属性</span>
        </div>
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 1px solid deepskyblue;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carBSpan">任务</span>
        </div>
        <div style="        width: calc(100% - 2px);
        text-align: center;
        border: 1px solid deepskyblue;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;">
            <span id="carCSpan">物品</span>
        </div>


    </div>

    <div style="
    position:absolute;
    z-index:7;
    right:20px;border:none;width:5em;color:green;top:calc(50% - 4em - 28px)">
        <div style="width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;background:rgba(0, 191, 255, 0.6);">
            <span id="carASpan">提升续航</span>
        </div>
        <div style="        width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;background:rgba(0, 191, 255, 0.6);">
            <span id="carASpan">提升业务</span>
        </div>
        <div style="        width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;
        background: rgba(0, 191, 255, 0.6);
">
            <span id="carASpan">提升容量</span>
        </div>
        <div style="        width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;
        background: rgba(0, 191, 255, 0.6);
">
            <span id="carASpan">提升速度</span>
        </div>
        <div style="        width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;
        background: rgba(0, 191, 255, 0.6);
">
            <span id="carASpan">收集金钱</span>
        </div>
        <div style="        width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;
        background: rgba(0, 191, 255, 0.6);
">
            <span id="carASpan">收取税金</span>
        </div>
        <div style="        width: calc(5em - 4px);
        text-align: center;
        border: 2px inset #ffc403;
        border-radius: 0.3em;
        margin-top: 4px;
        margin-bottom: 4px;
        background: rgba(0, 191, 255, 0.6);
">
            <span id="carASpan">打压对手</span>
        </div>
    </div>

    <div style="position:absolute;z-index:7;top:calc(100% - 2.5em - 8px);left:8px">

        <img src="Pic/chatPng.png" class="chatdialog msg" style="border:solid 1px yellowgreen;border-radius:5px;height:calc(2.5em - 2px);width:auto;" />

        <img src="Pic/trade.png" style="border:solid 1px yellowgreen;border-radius:2px;height:calc(2.5em - 2px);width:auto;" />

    </div>

    <div style="position:absolute;z-index:8;top:0px;width:12em; height:calc(100% - 60px);border:solid 1px red;text-align:center;background:rgba(104, 48, 8, 0.85);color:#83ffff; overflow-y:scroll;  ">
        <div class="friendMsg">
            玩家A
        </div>
        <div style="margin-bottom:0.25em;margin-top:0.25em">
            玩家B
        </div>
    </div>

    <div id="frequencyShow" style="position:absolute;right:5px;top:4px;z-index:7;color:rgba(255, 216, 0,1);text-shadow:2px 2px 2px gray">
        3.2
    </div>
    <!--<div style="position:absolute;z-index:8;top:calc(50% - 3em);width:12em; left:calc(50% - 6em);height:6em;border:solid 1px red;text-align:center;background:rgba(104, 48, 8, 0.85);color:#83ffff; overflow:hidden;  ">
        <div style="background: yellowgreen;
        margin-bottom: 0.25em;
        margin-top: 0.25em;">
            存
        </div>
        <div style="background: yellowgreen;
        margin-bottom: 0.25em;
        margin-top: 0.25em;">
            取
        </div>
        <div style="background: yellowgreen;
        margin-bottom: 0.25em;
        margin-top: 0.25em;">
            取消
        </div>
    </div>-->


    <div id="panelToAskWhetherGoto" style="
    position: absolute;
    z-index: 8;
    top: calc(5%);
    left:calc(5%);
    margin:auto;
    width: 100%;
    height:100%;
    max-width: calc(90%);max-height: calc(90%);height:90%;  border: solid 1px red; text-align: center; background: rgba(104, 48, 8, 0.4); color: #83ffff; overflow: hidden;   border-radius: 5px; ">
        <span id="minOrMax" style="background:red;float:left;border:solid 1px #000000;" onclick="mOr();">最小化</span>
        <img id="imageOfSmallMap" src="Pic/girl/r22change.png" style="max-width:calc(98%); max-height: calc(98% - 3em);background: #674a4a8b;box-shadow:2px 1px;" onclick="click();" />
        <div>点击图片，选择目标</div>
    </div>
    <script>
        function FindPosition(oElement) {
            if (typeof (oElement.offsetParent) != "undefined") {
                for (var posX = 0, posY = 0; oElement; oElement = oElement.offsetParent) {
                    posX += oElement.offsetLeft;
                    posY += oElement.offsetTop;
                }
                return [posX, posY];
            }
            else {
                return [oElement.x, oElement.y];
            }
        }

        function GetCoordinates(e) {
            var PosX = 0;
            var PosY = 0;
            var ImgPos;
            ImgPos = FindPosition(myImg);
            if (!e) var e = window.event;
            if (e.pageX || e.pageY) {
                PosX = e.pageX;
                PosY = e.pageY;
            }
            else if (e.clientX || e.clientY) {
                PosX = e.clientX + document.body.scrollLeft
                    + document.documentElement.scrollLeft;
                PosY = e.clientY + document.body.scrollTop
                    + document.documentElement.scrollTop;
            }
            PosX = PosX - ImgPos[0];
            PosY = PosY - ImgPos[1];
            document.getElementById("x").innerHTML = PosX;
            document.getElementById("y").innerHTML = PosY;
        }
        var click = function () {
            $(document).ready(function () {
                $("img").on("click", function (event) {

                    $('#img_coordinate').html("X Coordinate: " + (event.pageX - this.offsetLeft) + "<br/> Y Coordinate: " + (event.pageY - this.offsetTop));
                });
            });
        }
    </script>
    <script>
        var myImage = document.getElementById('imageOfSmallMap');
        myImage.addEventListener('mousedown', function (event) {
            var rect = myImage.getBoundingClientRect();
            var x = event.clientX - rect.left;
            var y = event.clientY - rect.top;

            // 获取缩放比例
            var scaleX = myImage.offsetWidth / myImage.naturalWidth;
            var scaleY = myImage.offsetHeight / myImage.naturalHeight;

            // 计算相对于原始图像的坐标位置
            var originX = Math.round(x / scaleX);
            var originY = Math.round(y / scaleY);

            console.log('位置', originX, originY);
            alert(`点击位置${originX},${originY}`)
        });

        document.addEventListener('gesturestart', function (e) {
            e.preventDefault();
        });

                                                                                //myImage.addEventListener('touchend', function (event) {
                                                                                //    var rect = myImage.getBoundingClientRect();
                                                                                //    var x = event.touches[0].clientX - rect.left;
                                                                                //    var y = event.touches[0].clientY - rect.top;

                                                                                //    // 获取缩放比例
                                                                                //    var scaleX = myImage.offsetWidth / myImage.naturalWidth;
                                                                                //    var scaleY = myImage.offsetHeight / myImage.naturalHeight;

                                                                                //    // 计算相对于原始图像的坐标位置
                                                                                //    var originX = Math.round(x / scaleX);
                                                                                //    var originY = Math.round(y / scaleY);
                                                                                //    alert(`触摸2位置${originX},${originY}`)
                                                                                //    //console.log('位置', , );
                                                                                //});
    </script>
</body>
</html>